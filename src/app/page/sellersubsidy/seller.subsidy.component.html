<!--头部信息-->
<div class="slds-p-vertical--x-small slds-grid slds-p-horizontal--large slds-shrink-none slds-theme--shade">
    <div class="slds-size--2-of-12">
        <a [nglPopover]="tip" nglPopoverPlacement="bottom" [nglOpen]="open"
           (mouseenter)="open = true" (mouseleave)="open = false" class="text-info"><i
                class="fa fa-info-circle"></i><span>奖励规则</span></a>
    </div>
    <div class="slds-size--2-of-12">
        <start-time-component (_startTime)="receiveDate($event)"></start-time-component>
    </div>
    <div class="slds-size--2-of-12">
        <button type="button" nglButton="neutral" (click)="initData()">初始化奖励数据</button>
    </div>
</div>
<!--数据列表-->
<table ngl-datatable [data]="rewardList.rows" trackByKey="rank"
       class="slds-max-medium-table--stacked-horizontal">
    <ngl-datatable-column heading="店铺ID" key="date"></ngl-datatable-column>
    <ngl-datatable-column heading="店铺名称" key="order_amount">

    </ngl-datatable-column>
    <ngl-datatable-column heading="完成单量" key="red_amount">

    </ngl-datatable-column>
    <ngl-datatable-column heading="下单人数" key="seller_amount">

    </ngl-datatable-column>
    <ngl-datatable-column heading="老订单量" key="auto_income">

    </ngl-datatable-column>
    <ngl-datatable-column heading="首单量" key="reward">

    </ngl-datatable-column>
    <ngl-datatable-column heading="统计时间" key="punish">

    </ngl-datatable-column>
    <ngl-datatable-column heading="奖励金额" key="offset">

    </ngl-datatable-column>
    <ngl-datatable-column heading="实发金额" key="offset">

    </ngl-datatable-column>
    <ngl-datatable-column heading="备注" key="offset">

    </ngl-datatable-column>
    <ngl-datatable-column heading="奖励发放" key="offset">

    </ngl-datatable-column>
    <ngl-datatable-column heading="操作" key="操作">

    </ngl-datatable-column>

    <!-- Loading overlay -->
    <template nglLoadingOverlay>
        <div class="slds-box slds-box--small slds-theme--shade slds-text-align--center">Loading...</div>
    </template>

    <!-- No rows overlay -->
    <template nglNoRowsOverlay>暂无数据</template>
</table>
<ngl-pagination [(page)]="pageOpts.page" [total]="rewardList.total" [perPage]="rewardList.size"
                boundaryNumbers="1" #pagination (pageChange)="pageChange($event)" previousText="上一页"
                nextText="下一页"></ngl-pagination>


<!--tips-->
<template #tip>
    <div class="slds-text-title--caps">
        <strong>下单定义：商品金额>1的完成订单</strong>
    </div>
    <div class="slds-text-longform">
        <ul>
            <li>(新用户下单人数*1)小于等于该店的奖励上限时，当日奖励金额等于(新用户下单人数*1)</li>
            <li>(新用户下单人数*1)大于该店的奖励上限时，当日奖励金额等于奖励上限</li>
        </ul>
    </div>
</template>

<!--prompt-->
<confirm-prompt-component [promptMessage]="promptMessage" [isOpen]="notificationOpen" (cancelFunction)="cancelPrompt()"
                          (confirmFunction)="confirm()"></confirm-prompt-component>
<!--Toast-->
<toast-component (notifyParam)="notifyParamFunction($event)" [toastType]="toastType" [toastMessage]="toastMessage"
                 [showAlert]="showAlert"></toast-component>